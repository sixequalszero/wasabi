refactored files.h
added files tests
